<?php declare(strict_types=1);
namespace DigitalStars\MtprotoClient\Generated\Types\Base;

use DigitalStars\MtprotoClient\TL\Deserializer;
use DigitalStars\MtprotoClient\TL\TlObject;
/**
 * @see https://core.telegram.org/type/Update
 */
abstract class AbstractUpdate extends TlObject
{
    public static function deserialize(string &$stream): static
    {
        // Peek at the constructor ID to determine the concrete type
        $constructorId = Deserializer::peekInt32($stream);
        
        return match ($constructorId) {
            UpdateNewMessage::CONSTRUCTOR_ID => UpdateNewMessage::deserialize($stream),
            UpdateMessageID::CONSTRUCTOR_ID => UpdateMessageID::deserialize($stream),
            UpdateDeleteMessages::CONSTRUCTOR_ID => UpdateDeleteMessages::deserialize($stream),
            UpdateUserTyping::CONSTRUCTOR_ID => UpdateUserTyping::deserialize($stream),
            UpdateChatUserTyping::CONSTRUCTOR_ID => UpdateChatUserTyping::deserialize($stream),
            UpdateChatParticipants::CONSTRUCTOR_ID => UpdateChatParticipants::deserialize($stream),
            UpdateUserStatus::CONSTRUCTOR_ID => UpdateUserStatus::deserialize($stream),
            UpdateUserName::CONSTRUCTOR_ID => UpdateUserName::deserialize($stream),
            UpdateNewAuthorization::CONSTRUCTOR_ID => UpdateNewAuthorization::deserialize($stream),
            UpdateNewEncryptedMessage::CONSTRUCTOR_ID => UpdateNewEncryptedMessage::deserialize($stream),
            UpdateEncryptedChatTyping::CONSTRUCTOR_ID => UpdateEncryptedChatTyping::deserialize($stream),
            UpdateEncryption::CONSTRUCTOR_ID => UpdateEncryption::deserialize($stream),
            UpdateEncryptedMessagesRead::CONSTRUCTOR_ID => UpdateEncryptedMessagesRead::deserialize($stream),
            UpdateChatParticipantAdd::CONSTRUCTOR_ID => UpdateChatParticipantAdd::deserialize($stream),
            UpdateChatParticipantDelete::CONSTRUCTOR_ID => UpdateChatParticipantDelete::deserialize($stream),
            UpdateDcOptions::CONSTRUCTOR_ID => UpdateDcOptions::deserialize($stream),
            UpdateNotifySettings::CONSTRUCTOR_ID => UpdateNotifySettings::deserialize($stream),
            UpdateServiceNotification::CONSTRUCTOR_ID => UpdateServiceNotification::deserialize($stream),
            UpdatePrivacy::CONSTRUCTOR_ID => UpdatePrivacy::deserialize($stream),
            UpdateUserPhone::CONSTRUCTOR_ID => UpdateUserPhone::deserialize($stream),
            UpdateReadHistoryInbox::CONSTRUCTOR_ID => UpdateReadHistoryInbox::deserialize($stream),
            UpdateReadHistoryOutbox::CONSTRUCTOR_ID => UpdateReadHistoryOutbox::deserialize($stream),
            UpdateWebPage::CONSTRUCTOR_ID => UpdateWebPage::deserialize($stream),
            UpdateReadMessagesContents::CONSTRUCTOR_ID => UpdateReadMessagesContents::deserialize($stream),
            UpdateChannelTooLong::CONSTRUCTOR_ID => UpdateChannelTooLong::deserialize($stream),
            UpdateChannel::CONSTRUCTOR_ID => UpdateChannel::deserialize($stream),
            UpdateNewChannelMessage::CONSTRUCTOR_ID => UpdateNewChannelMessage::deserialize($stream),
            UpdateReadChannelInbox::CONSTRUCTOR_ID => UpdateReadChannelInbox::deserialize($stream),
            UpdateDeleteChannelMessages::CONSTRUCTOR_ID => UpdateDeleteChannelMessages::deserialize($stream),
            UpdateChannelMessageViews::CONSTRUCTOR_ID => UpdateChannelMessageViews::deserialize($stream),
            UpdateChatParticipantAdmin::CONSTRUCTOR_ID => UpdateChatParticipantAdmin::deserialize($stream),
            UpdateNewStickerSet::CONSTRUCTOR_ID => UpdateNewStickerSet::deserialize($stream),
            UpdateStickerSetsOrder::CONSTRUCTOR_ID => UpdateStickerSetsOrder::deserialize($stream),
            UpdateStickerSets::CONSTRUCTOR_ID => UpdateStickerSets::deserialize($stream),
            UpdateSavedGifs::CONSTRUCTOR_ID => UpdateSavedGifs::deserialize($stream),
            UpdateBotInlineQuery::CONSTRUCTOR_ID => UpdateBotInlineQuery::deserialize($stream),
            UpdateBotInlineSend::CONSTRUCTOR_ID => UpdateBotInlineSend::deserialize($stream),
            UpdateEditChannelMessage::CONSTRUCTOR_ID => UpdateEditChannelMessage::deserialize($stream),
            UpdateBotCallbackQuery::CONSTRUCTOR_ID => UpdateBotCallbackQuery::deserialize($stream),
            UpdateEditMessage::CONSTRUCTOR_ID => UpdateEditMessage::deserialize($stream),
            UpdateInlineBotCallbackQuery::CONSTRUCTOR_ID => UpdateInlineBotCallbackQuery::deserialize($stream),
            UpdateReadChannelOutbox::CONSTRUCTOR_ID => UpdateReadChannelOutbox::deserialize($stream),
            UpdateDraftMessage::CONSTRUCTOR_ID => UpdateDraftMessage::deserialize($stream),
            UpdateReadFeaturedStickers::CONSTRUCTOR_ID => UpdateReadFeaturedStickers::deserialize($stream),
            UpdateRecentStickers::CONSTRUCTOR_ID => UpdateRecentStickers::deserialize($stream),
            UpdateConfig::CONSTRUCTOR_ID => UpdateConfig::deserialize($stream),
            UpdatePtsChanged::CONSTRUCTOR_ID => UpdatePtsChanged::deserialize($stream),
            UpdateChannelWebPage::CONSTRUCTOR_ID => UpdateChannelWebPage::deserialize($stream),
            UpdateDialogPinned::CONSTRUCTOR_ID => UpdateDialogPinned::deserialize($stream),
            UpdatePinnedDialogs::CONSTRUCTOR_ID => UpdatePinnedDialogs::deserialize($stream),
            UpdateBotWebhookJSON::CONSTRUCTOR_ID => UpdateBotWebhookJSON::deserialize($stream),
            UpdateBotWebhookJSONQuery::CONSTRUCTOR_ID => UpdateBotWebhookJSONQuery::deserialize($stream),
            UpdateBotShippingQuery::CONSTRUCTOR_ID => UpdateBotShippingQuery::deserialize($stream),
            UpdateBotPrecheckoutQuery::CONSTRUCTOR_ID => UpdateBotPrecheckoutQuery::deserialize($stream),
            UpdatePhoneCall::CONSTRUCTOR_ID => UpdatePhoneCall::deserialize($stream),
            UpdateLangPackTooLong::CONSTRUCTOR_ID => UpdateLangPackTooLong::deserialize($stream),
            UpdateLangPack::CONSTRUCTOR_ID => UpdateLangPack::deserialize($stream),
            UpdateFavedStickers::CONSTRUCTOR_ID => UpdateFavedStickers::deserialize($stream),
            UpdateChannelReadMessagesContents::CONSTRUCTOR_ID => UpdateChannelReadMessagesContents::deserialize($stream),
            UpdateContactsReset::CONSTRUCTOR_ID => UpdateContactsReset::deserialize($stream),
            UpdateChannelAvailableMessages::CONSTRUCTOR_ID => UpdateChannelAvailableMessages::deserialize($stream),
            UpdateDialogUnreadMark::CONSTRUCTOR_ID => UpdateDialogUnreadMark::deserialize($stream),
            UpdateMessagePoll::CONSTRUCTOR_ID => UpdateMessagePoll::deserialize($stream),
            UpdateChatDefaultBannedRights::CONSTRUCTOR_ID => UpdateChatDefaultBannedRights::deserialize($stream),
            UpdateFolderPeers::CONSTRUCTOR_ID => UpdateFolderPeers::deserialize($stream),
            UpdatePeerSettings::CONSTRUCTOR_ID => UpdatePeerSettings::deserialize($stream),
            UpdatePeerLocated::CONSTRUCTOR_ID => UpdatePeerLocated::deserialize($stream),
            UpdateNewScheduledMessage::CONSTRUCTOR_ID => UpdateNewScheduledMessage::deserialize($stream),
            UpdateDeleteScheduledMessages::CONSTRUCTOR_ID => UpdateDeleteScheduledMessages::deserialize($stream),
            UpdateTheme::CONSTRUCTOR_ID => UpdateTheme::deserialize($stream),
            UpdateGeoLiveViewed::CONSTRUCTOR_ID => UpdateGeoLiveViewed::deserialize($stream),
            UpdateLoginToken::CONSTRUCTOR_ID => UpdateLoginToken::deserialize($stream),
            UpdateMessagePollVote::CONSTRUCTOR_ID => UpdateMessagePollVote::deserialize($stream),
            UpdateDialogFilter::CONSTRUCTOR_ID => UpdateDialogFilter::deserialize($stream),
            UpdateDialogFilterOrder::CONSTRUCTOR_ID => UpdateDialogFilterOrder::deserialize($stream),
            UpdateDialogFilters::CONSTRUCTOR_ID => UpdateDialogFilters::deserialize($stream),
            UpdatePhoneCallSignalingData::CONSTRUCTOR_ID => UpdatePhoneCallSignalingData::deserialize($stream),
            UpdateChannelMessageForwards::CONSTRUCTOR_ID => UpdateChannelMessageForwards::deserialize($stream),
            UpdateReadChannelDiscussionInbox::CONSTRUCTOR_ID => UpdateReadChannelDiscussionInbox::deserialize($stream),
            UpdateReadChannelDiscussionOutbox::CONSTRUCTOR_ID => UpdateReadChannelDiscussionOutbox::deserialize($stream),
            UpdatePeerBlocked::CONSTRUCTOR_ID => UpdatePeerBlocked::deserialize($stream),
            UpdateChannelUserTyping::CONSTRUCTOR_ID => UpdateChannelUserTyping::deserialize($stream),
            UpdatePinnedMessages::CONSTRUCTOR_ID => UpdatePinnedMessages::deserialize($stream),
            UpdatePinnedChannelMessages::CONSTRUCTOR_ID => UpdatePinnedChannelMessages::deserialize($stream),
            UpdateChat::CONSTRUCTOR_ID => UpdateChat::deserialize($stream),
            UpdateGroupCallParticipants::CONSTRUCTOR_ID => UpdateGroupCallParticipants::deserialize($stream),
            UpdateGroupCall::CONSTRUCTOR_ID => UpdateGroupCall::deserialize($stream),
            UpdatePeerHistoryTTL::CONSTRUCTOR_ID => UpdatePeerHistoryTTL::deserialize($stream),
            UpdateChatParticipant::CONSTRUCTOR_ID => UpdateChatParticipant::deserialize($stream),
            UpdateChannelParticipant::CONSTRUCTOR_ID => UpdateChannelParticipant::deserialize($stream),
            UpdateBotStopped::CONSTRUCTOR_ID => UpdateBotStopped::deserialize($stream),
            UpdateGroupCallConnection::CONSTRUCTOR_ID => UpdateGroupCallConnection::deserialize($stream),
            UpdateBotCommands::CONSTRUCTOR_ID => UpdateBotCommands::deserialize($stream),
            UpdatePendingJoinRequests::CONSTRUCTOR_ID => UpdatePendingJoinRequests::deserialize($stream),
            UpdateBotChatInviteRequester::CONSTRUCTOR_ID => UpdateBotChatInviteRequester::deserialize($stream),
            UpdateMessageReactions::CONSTRUCTOR_ID => UpdateMessageReactions::deserialize($stream),
            UpdateAttachMenuBots::CONSTRUCTOR_ID => UpdateAttachMenuBots::deserialize($stream),
            UpdateWebViewResultSent::CONSTRUCTOR_ID => UpdateWebViewResultSent::deserialize($stream),
            UpdateBotMenuButton::CONSTRUCTOR_ID => UpdateBotMenuButton::deserialize($stream),
            UpdateSavedRingtones::CONSTRUCTOR_ID => UpdateSavedRingtones::deserialize($stream),
            UpdateTranscribedAudio::CONSTRUCTOR_ID => UpdateTranscribedAudio::deserialize($stream),
            UpdateReadFeaturedEmojiStickers::CONSTRUCTOR_ID => UpdateReadFeaturedEmojiStickers::deserialize($stream),
            UpdateUserEmojiStatus::CONSTRUCTOR_ID => UpdateUserEmojiStatus::deserialize($stream),
            UpdateRecentEmojiStatuses::CONSTRUCTOR_ID => UpdateRecentEmojiStatuses::deserialize($stream),
            UpdateRecentReactions::CONSTRUCTOR_ID => UpdateRecentReactions::deserialize($stream),
            UpdateMoveStickerSetToTop::CONSTRUCTOR_ID => UpdateMoveStickerSetToTop::deserialize($stream),
            UpdateMessageExtendedMedia::CONSTRUCTOR_ID => UpdateMessageExtendedMedia::deserialize($stream),
            UpdateChannelPinnedTopic::CONSTRUCTOR_ID => UpdateChannelPinnedTopic::deserialize($stream),
            UpdateChannelPinnedTopics::CONSTRUCTOR_ID => UpdateChannelPinnedTopics::deserialize($stream),
            UpdateUser::CONSTRUCTOR_ID => UpdateUser::deserialize($stream),
            UpdateAutoSaveSettings::CONSTRUCTOR_ID => UpdateAutoSaveSettings::deserialize($stream),
            UpdateStory::CONSTRUCTOR_ID => UpdateStory::deserialize($stream),
            UpdateReadStories::CONSTRUCTOR_ID => UpdateReadStories::deserialize($stream),
            UpdateStoryID::CONSTRUCTOR_ID => UpdateStoryID::deserialize($stream),
            UpdateStoriesStealthMode::CONSTRUCTOR_ID => UpdateStoriesStealthMode::deserialize($stream),
            UpdateSentStoryReaction::CONSTRUCTOR_ID => UpdateSentStoryReaction::deserialize($stream),
            UpdateBotChatBoost::CONSTRUCTOR_ID => UpdateBotChatBoost::deserialize($stream),
            UpdateChannelViewForumAsMessages::CONSTRUCTOR_ID => UpdateChannelViewForumAsMessages::deserialize($stream),
            UpdatePeerWallpaper::CONSTRUCTOR_ID => UpdatePeerWallpaper::deserialize($stream),
            UpdateBotMessageReaction::CONSTRUCTOR_ID => UpdateBotMessageReaction::deserialize($stream),
            UpdateBotMessageReactions::CONSTRUCTOR_ID => UpdateBotMessageReactions::deserialize($stream),
            UpdateSavedDialogPinned::CONSTRUCTOR_ID => UpdateSavedDialogPinned::deserialize($stream),
            UpdatePinnedSavedDialogs::CONSTRUCTOR_ID => UpdatePinnedSavedDialogs::deserialize($stream),
            UpdateSavedReactionTags::CONSTRUCTOR_ID => UpdateSavedReactionTags::deserialize($stream),
            UpdateSmsJob::CONSTRUCTOR_ID => UpdateSmsJob::deserialize($stream),
            UpdateQuickReplies::CONSTRUCTOR_ID => UpdateQuickReplies::deserialize($stream),
            UpdateNewQuickReply::CONSTRUCTOR_ID => UpdateNewQuickReply::deserialize($stream),
            UpdateDeleteQuickReply::CONSTRUCTOR_ID => UpdateDeleteQuickReply::deserialize($stream),
            UpdateQuickReplyMessage::CONSTRUCTOR_ID => UpdateQuickReplyMessage::deserialize($stream),
            UpdateDeleteQuickReplyMessages::CONSTRUCTOR_ID => UpdateDeleteQuickReplyMessages::deserialize($stream),
            UpdateBotBusinessConnect::CONSTRUCTOR_ID => UpdateBotBusinessConnect::deserialize($stream),
            UpdateBotNewBusinessMessage::CONSTRUCTOR_ID => UpdateBotNewBusinessMessage::deserialize($stream),
            UpdateBotEditBusinessMessage::CONSTRUCTOR_ID => UpdateBotEditBusinessMessage::deserialize($stream),
            UpdateBotDeleteBusinessMessage::CONSTRUCTOR_ID => UpdateBotDeleteBusinessMessage::deserialize($stream),
            UpdateNewStoryReaction::CONSTRUCTOR_ID => UpdateNewStoryReaction::deserialize($stream),
            UpdateStarsBalance::CONSTRUCTOR_ID => UpdateStarsBalance::deserialize($stream),
            UpdateBusinessBotCallbackQuery::CONSTRUCTOR_ID => UpdateBusinessBotCallbackQuery::deserialize($stream),
            UpdateStarsRevenueStatus::CONSTRUCTOR_ID => UpdateStarsRevenueStatus::deserialize($stream),
            UpdateBotPurchasedPaidMedia::CONSTRUCTOR_ID => UpdateBotPurchasedPaidMedia::deserialize($stream),
            UpdatePaidReactionPrivacy::CONSTRUCTOR_ID => UpdatePaidReactionPrivacy::deserialize($stream),
            UpdateSentPhoneCode::CONSTRUCTOR_ID => UpdateSentPhoneCode::deserialize($stream),
            UpdateGroupCallChainBlocks::CONSTRUCTOR_ID => UpdateGroupCallChainBlocks::deserialize($stream),
            UpdateReadMonoForumInbox::CONSTRUCTOR_ID => UpdateReadMonoForumInbox::deserialize($stream),
            UpdateReadMonoForumOutbox::CONSTRUCTOR_ID => UpdateReadMonoForumOutbox::deserialize($stream),
            UpdateMonoForumNoPaidException::CONSTRUCTOR_ID => UpdateMonoForumNoPaidException::deserialize($stream),
            default => throw new \Exception(sprintf('Unknown constructor ID for type Update. Received ID: 0x%s (signed: %d, unsigned: %u)', dechex($constructorId), unpack('l', pack('V', $constructorId))[1], $constructorId)),
        };
    }
}